<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ari's Phonics Game</title>
<style>
    body {
        font-family: sans-serif;
        text-align: center;
        background: #f0f8ff;
        margin: 0;
        padding: 0;
    }
    h1 {
        background: #4CAF50;
        color: white;
        padding: 10px;
        margin: 0;
    }
    .letter-card, .choice {
        display: inline-block;
        margin: 10px;
        padding: 10px;
        background: white;
        border-radius: 10px;
        box-shadow: 0 0 5px rgba(0,0,0,0.2);
    }
    img {
        max-width: 150px;
        border-radius: 10px;
    }
    button {
        margin-top: 10px;
        padding: 8px 15px;
        font-size: 16px;
        border: none;
        background: #4CAF50;
        color: white;
        border-radius: 5px;
    }
</style>
</head>
<body>

<h1>Ari's Phonics</h1>
<div id="game"></div>

<script>
const lettersData = {
    A: { word: "apple", img: "https://upload.wikimedia.org/wikipedia/commons/1/15/Red_Apple.jpg", sound: "https://www.learningcontainer.com/wp-content/uploads/2020/02/Kids-Phonics-A.mp3" },
    R: { word: "rat", img: "https://upload.wikimedia.org/wikipedia/commons/b/b1/Rattus_norvegicus_1.jpg", sound: "https://www.learningcontainer.com/wp-content/uploads/2020/02/Kids-Phonics-R.mp3" },
    I: { word: "igloo", img: "https://upload.wikimedia.org/wikipedia/commons/e/e8/Igloo_at_Parc_Jean-Drapeau.jpg", sound: "https://www.learningcontainer.com/wp-content/uploads/2020/02/Kids-Phonics-I.mp3" }
};

let unlockedLetters = ["A", "R", "I"];
let currentLetter = null;

// Start with intro
function startIntro() {
    const gameDiv = document.getElementById("game");
    gameDiv.innerHTML = "<h2>Let's learn our first letters!</h2>";
    unlockedLetters.forEach(letter => {
        const card = document.createElement("div");
        card.className = "letter-card";
        card.innerHTML = `<h3>${letter}</h3>
                          <img src="${lettersData[letter].img}">
                          <p>${lettersData[letter].word}</p>`;
        gameDiv.appendChild(card);
        // Play sound after small delay
        setTimeout(() => { playPhoneme(letter); }, 1000 * (unlockedLetters.indexOf(letter) + 1));
    });
    // After sounds, start the game
    setTimeout(startGame, 4000);
}

function startGame() {
    const gameDiv = document.getElementById("game");
    gameDiv.innerHTML = "";

    // Pick a random letter
    currentLetter = unlockedLetters[Math.floor(Math.random() * unlockedLetters.length)];
    const word = lettersData[currentLetter].word;
    const missingIndex = Math.floor(Math.random() * word.length);
    const displayWord = word.substring(0, missingIndex) + "_" + word.substring(missingIndex + 1);

    // Show image and word
    gameDiv.innerHTML = `<div class="letter-card">
                            <img src="${lettersData[currentLetter].img}">
                            <h2>${displayWord}</h2>
                            <button onclick="playPhoneme(currentLetter)">Hear sound</button>
                         </div>`;

    // Choices
    const choicesDiv = document.createElement("div");
    let choices = [currentLetter];
    while (choices.length < 3) {
        let randomLetter = unlockedLetters[Math.floor(Math.random() * unlockedLetters.length)];
        if (!choices.includes(randomLetter)) choices.push(randomLetter);
    }
    choices.sort(() => Math.random() - 0.5);

    choices.forEach(letter => {
        const btn = document.createElement("button");
        btn.className = "choice";
        btn.textContent = letter;
        btn.onclick = () => checkAnswer(letter);
        choicesDiv.appendChild(btn);
    });

    gameDiv.appendChild(choicesDiv);
}

function checkAnswer(letter) {
    if (letter === currentLetter) {
        alert("✅ Correct!");
        startGame();
    } else {
        alert("❌ Try again!");
    }
}

function playPhoneme(letter) {
    new Audio(lettersData[letter].sound).play();
}

startIntro();
</script>

</body>
</html>
